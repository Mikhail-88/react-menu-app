(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},122:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var n,r,c,s=a(0),i=a.n(s),l=a(26),u=a.n(l),o=a(4),m=a(49),p=a(7),d=a(18),E=a(50),f=a(35),_=a(51),g=a.n(_),b=a(2),h=a(6),v=a(3),N=a.n(v),O=a(10),y=a(52),R=a.n(y),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(n,r){R()({url:"https://react-menu-app-e4c8b.firebaseio.com".concat(e),method:t,data:a}).then(function(e){return n(e)}).catch(function(e){return r(e)})})},C=function(){return function(){var e=Object(O.a)(N.a.mark(function e(t){var a,n,r;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOADING"}),e.prev=1,e.next=4,j("/menu.json");case 4:a=e.sent,n=a.data,r=n.map(function(e){return Object(h.a)({},e,{inCart:!1})}),t({type:"MENU_LOADED",payload:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:"HAS_ERROR"});case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()},T=function(e){return{type:"ADD_TO_CART",payload:e}},k=a(8),S=function(e,t){return e.some(function(e){return e.id===t})},L=function(e,t,a){return"add"===a?e.some(function(e){return e.id===t.id})?e.map(function(e){return e.id===t.id?Object(h.a)({},t,{quantity:++t.quantity}):e}):[].concat(Object(k.a)(e),[Object(h.a)({},t,{quantity:1})]):"del"===a?e.filter(function(e){return e.id!==t.id}):"decr"===a?e.map(function(e){return e.id===t.id?Object(h.a)({},t,{quantity:--t.quantity}):e}):void 0},I={menu:[],itemsInCart:[],isLoading:!0,hasError:!1,isOrderTook:!1},A=(n={},Object(b.a)(n,"MENU_LOADED",function(e,t){return Object(h.a)({},e,{menu:t.payload,isLoading:!1})}),Object(b.a)(n,"LOADING",function(e){return Object(h.a)({},e,{isLoading:!0})}),Object(b.a)(n,"HAS_ERROR",function(e){return Object(h.a)({},e,{hasError:!0,isLoading:!1})}),Object(b.a)(n,"ADD_TO_CART",function(e,t){return Object(h.a)({},e,{itemsInCart:L(e.itemsInCart,t.payload,"add")})}),Object(b.a)(n,"DELETE_FROM_CART",function(e,t){return Object(h.a)({},e,{itemsInCart:L(e.itemsInCart,t.payload,"del")})}),Object(b.a)(n,"DECREASE_IN_CART",function(e,t){return Object(h.a)({},e,{itemsInCart:L(e.itemsInCart,t.payload,"decr")})}),Object(b.a)(n,"ORDER_SUCCESS",function(e){return Object(h.a)({},e,{itemsInCart:[],isOrderTook:!0,isLoading:!1})}),Object(b.a)(n,"REFRESH_ORDER",function(e){return Object(h.a)({},e,{isOrderTook:!1})}),Object(b.a)(n,"DEFAULT",function(e){return e}),n),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;return(A[t.type]||A.DEFAULT)(e,t)},P=a(11),U=a(53),w=(a(111),{KEY:"AIzaSyD1LQ2M93txboZ4fi70dMYilAyEaP2MiwE",DOMAIN:"react-menu-app-e4c8b.firebaseapp.com",DATABASE:"https://react-menu-app-e4c8b.firebaseio.com",PROJECT_ID:"react-menu-app-e4c8b",STORAGE_BUCKET:"react-menu-app-e4c8b.appspot.com",SENDER_ID:0xed61691b35,APP_ID:"1:1019541527349:web:2da8967336234e9d84ca7c"}),x=w.KEY,F=w.DOMAIN,M=w.DATABASE,q=w.PROJECT_ID,z=w.STORAGE_BUCKET,G=w.SENDER_ID,H=w.APP_ID,$=U.initializeApp({apiKey:x,authDomain:F,databaseURL:M,projectId:q,storageBucket:z,messagingSenderId:G,appId:H}),B=function(){var e=Object(O.a)(N.a.mark(function e(t){var a,n,r,c,s;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j("/users/".concat(t,".json"));case 3:return a=e.sent,n=a.data,r=Object.values(n),c=Object(P.a)(r,1),s=c[0],e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),Q={currentUser:null,isUserLogin:!1,isRecording:!1,isError:!1,errorMessage:""},Y=(r={},Object(b.a)(r,"PROVIDE_USER",function(e,t){return Object(h.a)({},e,{currentUser:t.payload,isUserLogin:!0,isRecording:!1})}),Object(b.a)(r,"REGISTRATION",function(e){return Object(h.a)({},e,{isRecording:!0})}),Object(b.a)(r,"IS_ERROR",function(e,t){return Object(h.a)({},e,{isError:!0,errorMessage:t.payload,isRecording:!1})}),Object(b.a)(r,"REFRESH_ERROR",function(e){return Object(h.a)({},e,{isError:!1})}),Object(b.a)(r,"USER_LOGOUT",function(e){return Object(h.a)({},e,{isUserLogin:!1,isRecording:!1})}),Object(b.a)(r,"DEFAULT",function(e){return e}),r),Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;return(Y[t.type]||Y.DEFAULT)(e,t)},K=function(e){return{type:"CURRENT_PAGE",payload:e}},J={searchQuery:"",sortType:null,pageSize:8,currentPage:0},V=(c={},Object(b.a)(c,"SORT_MENU",function(e,t){return Object(h.a)({},e,{sortType:t.payload})}),Object(b.a)(c,"SEARCH_ITEM",function(e,t){return Object(h.a)({},e,{searchQuery:t.payload})}),Object(b.a)(c,"CURRENT_PAGE",function(e,t){return Object(h.a)({},e,{currentPage:t.payload})}),Object(b.a)(c,"DEFAULT",function(e){return e}),c),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;return(V[t.type]||V.DEFAULT)(e,t)},X=Object(d.c)({menu:D,auth:Z,filter:W}),ee={key:"root",storage:g.a,whitelist:["menu","auth"]},te=Object(f.a)(ee,X),ae=Object(d.d)(te,Object(d.a)(E.a)),ne=Object(f.b)(ae),re=a(54),ce=a(23),se=a(66),ie=a(55),le=a.n(ie),ue=a(56),oe=a.n(ue),me=(a(114),Object(s.memo)(function(e){var t=e.menuItem,a=e.onAddToCart,n=e.itemInCart,r=t.title,c=t.price,l=t.url,u=t.category,o=t.id,m=t.description,d=Object(s.useState)(!1),E=Object(P.a)(d,2),f=E[0],_=E[1],g=function(){_(!f)};return i.a.createElement(oe.a,{isFlipped:f,flipDirection:"horizontal"},i.a.createElement("li",{className:"menu__item"},i.a.createElement("div",{className:"menu__title"},r),i.a.createElement("img",{className:"menu__img",src:l,alt:r,title:"click me",onClick:g}),i.a.createElement("div",{className:"menu__category"},"Category: ",i.a.createElement("span",null,u)),i.a.createElement("div",{className:"menu__price"},"Price: ",i.a.createElement("span",null,c,"$")),i.a.createElement("span",{className:"menu__category_img ".concat(u)}),i.a.createElement("div",{className:"menu__buttons"},n?i.a.createElement(p.b,{to:"/react-menu-app/cart/",className:"menu__btn menu__link"},"CART"):i.a.createElement("button",{className:"menu__btn",onClick:function(){return a()}},"ORDER"),i.a.createElement(p.b,{to:"/react-menu-app/menu/".concat(o),className:"menu__link"},"DESCRIPTION"))),i.a.createElement("li",{className:"menu__item menu__item__back"},i.a.createElement("div",{className:"menu__title"},r),i.a.createElement("div",{className:"menu__description",onClick:g},m),i.a.createElement("div",{className:"menu__category"},"Category: ",i.a.createElement("span",null,u)),i.a.createElement("div",{className:"menu__price"},"Price: ",i.a.createElement("span",null,c,"$")),i.a.createElement("span",{className:"menu__category_img ".concat(u)}),i.a.createElement("div",{className:"menu__buttons"},n?i.a.createElement(p.b,{to:"/react-menu-app/cart/",className:"menu__btn menu__link"},"CART"):i.a.createElement("button",{className:"menu__btn",onClick:function(){return a()}},"ORDER"))))},function(e,t){return e.itemInCart===t.itemInCart})),pe=(a(116),function(){return i.a.createElement("div",{className:"loadingio-spinner-spin-1kcfyr334q1"},i.a.createElement("div",{className:"ldio-0qyrhlsmw4yp"},i.a.createElement("div",null,i.a.createElement("div",null)),i.a.createElement("div",null,i.a.createElement("div",null)),i.a.createElement("div",null,i.a.createElement("div",null)),i.a.createElement("div",null,i.a.createElement("div",null)),i.a.createElement("div",null,i.a.createElement("div",null)),i.a.createElement("div",null,i.a.createElement("div",null)),i.a.createElement("div",null,i.a.createElement("div",null)),i.a.createElement("div",null,i.a.createElement("div",null))))}),de=(a(117),function(e){var t=e.message;return i.a.createElement("div",{className:"info-block"},i.a.createElement("img",{src:"https://cdn.dribbble.com/users/381530/screenshots/3949858/404.gif",alt:"error"}),i.a.createElement("p",null,t))});de.defaultProps={message:"Something goes wrong, try again later!"};var Ee=de,fe=a(58),_e=a.n(fe),ge=(a(118),function(){return i.a.createElement("div",{className:"info-block nothing-found"},i.a.createElement("img",{src:_e.a,alt:"empty plate"}),i.a.createElement("p",null,"Nothing found for your request!"))}),be=a(34),he=Object(be.a)([function(e){return e.menu.itemsInCart}],function(e){return e.reduce(function(e,t){return e+t.quantity*t.price},0)}),ve=Object(be.a)([function(e){return e.menu.menu},function(e){return e.filter.searchQuery},function(e){return e.filter.sortType}],function(e,t,a){var n=Object(k.a)(e);return a&&n.sort(function(e,t){return"up"===a?e.price-t.price:t.price-e.price}),t.length?n.filter(function(e){return e.title.toLowerCase().includes(t.toLowerCase().trim())}):n}),Ne=(a(119),{menuLoaded:C,addToCart:T}),Oe=Object(o.b)(function(e){return{menuItems:ve(e),cart:e.menu.itemsInCart,isLoading:e.menu.isLoading,hasError:e.menu.hasError,pageSize:e.filter.pageSize,currentPage:e.filter.currentPage}},Ne)(function(e){var t=e.menuItems,a=e.cart,n=e.isLoading,r=e.hasError,c=e.menuLoaded,l=e.addToCart,u=e.pageSize,o=e.currentPage,m=r&&i.a.createElement("div",{className:"item__page"},i.a.createElement(Ee,null)),p=n&&i.a.createElement("div",{className:"item__page"},i.a.createElement(pe,null)),d=!t.length&&i.a.createElement("div",{className:"item__page"},i.a.createElement(ge,null)),E=le.a.chunk(t,u)[o];return Object(s.useEffect)(function(){!t.length&&c()},[]),m||p||d||i.a.createElement("ul",{className:"menu__list"},E.map(function(e){var t=S(a,e.id);return i.a.createElement(me,{key:e.id,menuItem:e,itemInCart:t,onAddToCart:function(){return l(e)}})}))}),ye=a(59),Re=(a(122),{updateSearch:function(e){return{type:"SEARCH_ITEM",payload:e}},sortMenu:function(e){return{type:"SORT_MENU",payload:e}},pageChange:K}),je=Object(o.b)(function(e){return{searchQuery:e.filter.searchQuery}},Re)(function(e){var t=e.searchQuery,a=e.updateSearch,n=e.sortMenu,r=e.pageChange,c=Object(s.useState)(!0),l=Object(P.a)(c,2),u=l[0],o=l[1],m=function(e){o(!u),n(e)};return i.a.createElement("div",{className:"search-container"},i.a.createElement(ye.DebounceInput,{minLength:2,debounceTimeout:1e3,type:"text",value:t,title:"Find your dish",placeholder:"Search...",onChange:function(e){return function(e){var t=e.target;a(t.value),r(0)}(e)}}),i.a.createElement("div",{className:"search"},u?i.a.createElement("button",{title:"Sort by price",className:"sort",value:"up",onClick:function(e){var t=e.target;return m(t.value)}},"\u21d1"):i.a.createElement("button",{title:"Sort by price",className:"sort",value:"down",onClick:function(e){var t=e.target;return m(t.value)}},"\u21d3")))}),Ce=a(60),Te=a.n(Ce),ke=(a(126),a(127),{pageChange:K}),Se=Object(o.b)(function(e){return{menuItems:ve(e),pageSize:e.filter.pageSize,currentPage:e.filter.currentPage}},ke)(function(e){var t=e.menuItems,a=e.pageSize,n=e.currentPage,r=e.pageChange,c=Math.ceil(t.length/a);return i.a.createElement(Te.a,{previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"break-me",pageCount:c,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var t=e.selected;r(t)},containerClassName:"pagination paginate__block",subContainerClassName:"pages pagination",activeClassName:"active",pageClassName:"page-item paginate__item",pageLinkClassName:"page-link paginate__link",previousClassName:"page-item paginate__item",nextClassName:"page-item paginate__item",previousLinkClassName:"page-link",nextLinkClassName:"page-link",forcePage:n})}),Le=function(){return i.a.createElement("main",{className:"main__page"},i.a.createElement(je,null),i.a.createElement(Oe,null),i.a.createElement(Se,null))},Ie=a(137),Ae=a(136),De={deleteFromCart:function(e){return{type:"DELETE_FROM_CART",payload:e}},addToCart:T,decreaseInCart:function(e){return{type:"DECREASE_IN_CART",payload:e}}},Pe=Object(o.b)(null,De)(function(e){var t=e.item,a=e.deleteFromCart,n=e.addToCart,r=e.decreaseInCart,c=t.title,s=t.price,l=t.url,u=t.quantity;return i.a.createElement("div",{className:"cart__item"},i.a.createElement("img",{src:l,className:"cart__item-img",alt:"Cesar salad"}),i.a.createElement("div",{className:"cart__item-title"},c),i.a.createElement("div",{className:"cart__item-details"},i.a.createElement("span",{className:"cart__item-ins"},"Price:"),i.a.createElement("span",null,s," $")),i.a.createElement("div",{className:"cart__item-details"},i.a.createElement("span",{className:"cart__item-ins"},"Quantity:"),i.a.createElement("span",null,u),i.a.createElement("div",{className:"cart__buttons"},i.a.createElement("button",{className:"cart__btn",onClick:function(){return r(t)},disabled:u<=1&&!0},"-"),i.a.createElement("button",{className:"cart__btn",onClick:function(){return n(t)}},"+"))),i.a.createElement("div",{className:"cart__item-details"},i.a.createElement("span",{className:"cart__item-ins"},"Amount:"),i.a.createElement("span",null,s*u," $")),i.a.createElement("div",{className:"cart__close",onClick:function(){return a(t)}},"\xd7"))}),Ue=(a(128),{sendOrder:function(e,t){return function(){var a=Object(O.a)(N.a.mark(function a(n){var r,c,s,i;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"LOADING"}),a.prev=1,a.next=4,j("/orders.json");case 4:return r=a.sent,c=r.data,s=Object.values(c).length+1,i={id:s,order:e},a.next=10,j("/orders.json","POST",i);case 10:200===a.sent.status&&(n({type:"ORDER_SUCCESS"}),setTimeout(function(){t.push("/react-menu-app/"),n({type:"REFRESH_ORDER"})},5e3)),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(1),n({type:"HAS_ERROR"});case 17:case"end":return a.stop()}},a,null,[[1,14]])}));return function(e){return a.apply(this,arguments)}}()}}),we=Object(o.b)(function(e){return{cart:e.menu.itemsInCart,isOrderTook:e.menu.isOrderTook,isLoading:e.menu.isLoading,hasError:e.menu.hasError,totalPrice:he(e),user:e.auth.currentUser,isUserLogin:e.auth.isUserLogin}},Ue)(function(e){var t=e.cart,a=e.user,n=e.isUserLogin,r=e.isOrderTook,c=e.isLoading,s=e.hasError,l=e.totalPrice,u=e.sendOrder,o=Object(ce.g)(),m=s&&i.a.createElement(Ee,null),d=c&&i.a.createElement(pe,null);return t.length||r?r?i.a.createElement("p",{className:"cart__title"},"Thank you, we have accepted your order! ",i.a.createElement("br",null),"We will contact you shortly!"):m||d||i.a.createElement(i.a.Fragment,null,!n&&i.a.createElement("div",{className:"cart__login"},i.a.createElement("p",{className:"cart__item-title"},"Before placing an order, please "),i.a.createElement(p.b,{to:"/react-menu-app/authorization/",className:"cart__link"},"Login!")),i.a.createElement("div",{className:"cart__title"},"Your order:"),i.a.createElement(Ie.a,{className:"cart__list"},t.map(function(e){return i.a.createElement(Ae.a,{key:e.id,timeout:500,classNames:"fade"},i.a.createElement(Pe,{item:e}))})),i.a.createElement("button",{disabled:!n&&"disabled",title:n?"Make order":"Please, login!",className:"order__btn",onClick:function(){return function(){var e=t.map(function(e){return{name:e.title,portions:e.quantity}}),n=new Date(Date.now()).toLocaleString();u({dish:e,totalPrice:l,user:a,orderTime:n},o)}()}},"ORDER")):i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"cart__title"},"Your cart is empty!"),i.a.createElement(p.b,{to:"/react-menu-app/",className:"order__link"},i.a.createElement("button",{className:"order__btn"},"MENU")))}),xe=function(){return i.a.createElement("div",{className:"cart"},i.a.createElement(we,null))},Fe=a(135),Me=(a(129),{menuLoaded:C,addToCart:T}),qe=Object(o.b)(function(e){var t=e.menu;return{menuItems:t.menu,cart:t.itemsInCart,isLoading:t.isLoading,hasError:t.hasError}},Me)(function(e){var t=e.menuItems,a=e.cart,n=e.menuLoaded,r=e.isLoading,c=e.hasError,l=e.addToCart,u=Object(ce.h)(),o=Object(ce.g)(),m=t.find(function(e){return e.id===Number(u.id)}),d=c&&i.a.createElement(Ee,null),E=r&&i.a.createElement(pe,null);return Object(s.useEffect)(function(){!t.length&&n()},[]),i.a.createElement("div",{className:"item__page"},d||E||i.a.createElement("div",{className:"menu__item item__block"},i.a.createElement("div",{className:"menu__title"},m.title),i.a.createElement("img",{className:"menu__img",src:m.url,alt:m.title}),i.a.createElement("div",{className:"menu__title"},m.description),i.a.createElement("div",{className:"menu__category"},"Category: ",i.a.createElement("span",null,m.category)),i.a.createElement("div",{className:"menu__price"},"Price: ",i.a.createElement("span",null,m.price,"$")),i.a.createElement("span",{className:"menu__category_img ".concat(m.category)}),i.a.createElement("div",{className:"menu__buttons"},i.a.createElement(Fe.a,null,i.a.createElement(Ae.a,{key:S(a,m.id),addEndListener:function(e,t){return e.addEventListener("transitionend",t,!1)},classNames:"fade"},S(a,m.id)?i.a.createElement(p.b,{to:"/react-menu-app/cart/",className:"menu__btn menu__link"},"CART"):i.a.createElement("button",{className:"menu__btn",onClick:function(){return l(m)}},"ORDER"))),i.a.createElement("button",{onClick:function(){return o.goBack()},className:"menu__btn menu__link"},"Back"))))}),ze=function(){return i.a.createElement(qe,null)},Ge=a(61),He=a.n(Ge),$e=a(29),Be={email:/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,password:/^[0-9a-zA-Z]{6,}$/,name:/^[a-zA-Z `']{3,}$/,phone:/^\d{10}$/},Qe={login:function(e,t){return function(){var a=Object(O.a)(N.a.mark(function a(n){var r,c,s;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"REGISTRATION"}),a.prev=1,a.next=4,$.auth().signInWithEmailAndPassword(e.email,e.password);case 4:return r=a.sent,c=r.user,a.next=8,B(c.uid);case 8:s=a.sent,n({type:"PROVIDE_USER",payload:s}),setTimeout(function(){t.push("/react-menu-app/dashboard/")},2e3),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(1),n({type:"IS_ERROR",payload:a.t0.message}),setTimeout(function(){n({type:"REFRESH_ERROR"})},5e3);case 17:case"end":return a.stop()}},a,null,[[1,13]])}));return function(e){return a.apply(this,arguments)}}()}},Ye=Object(o.b)(null,Qe)(function(e){var t=e.login,a=Object(ce.g)(),n=Object($e.a)(),r=n.register,c=n.handleSubmit,s=n.reset,l=n.errors;return i.a.createElement("div",{className:"user_forms-login"},i.a.createElement("h2",{className:"forms_title"},"Login"),i.a.createElement("form",{className:"forms_form",onSubmit:c(function(e){t(e,a),s()})},i.a.createElement("fieldset",{className:"forms_fieldset"},i.a.createElement("div",{className:"forms_field"},i.a.createElement("input",{autoComplete:"off",name:"email",placeholder:"Email*",className:"forms_field-input",autoFocus:!0,ref:r({required:"This is required field",pattern:{value:Be.email,message:"Please, provide validate email, example: test@test.com"}})}),l.email&&i.a.createElement("p",{className:"forms_field-error"},l.email.message)),i.a.createElement("div",{className:"forms_field"},i.a.createElement("input",{type:"password",name:"password",placeholder:"Password*",className:"forms_field-input",ref:r({required:"This is required field",pattern:{value:Be.password,message:"Please, only letters and numbers, minlength 6 characters"}})}),l.password&&i.a.createElement("p",{className:"forms_field-error"},l.password.message))),i.a.createElement("div",{className:"forms_buttons"},i.a.createElement("input",{type:"submit",value:"Log In",className:"forms_buttons-action"}))))}),Ze={signUp:function(e,t){return function(){var a=Object(O.a)(N.a.mark(function a(n){var r,c,s,i,l,u;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.email,c=e.password,s=e.name,i=e.phone,n({type:"REGISTRATION"}),a.prev=2,a.next=5,$.auth().createUserWithEmailAndPassword(r,c).then(function(e){return e.user.uid});case 5:return l=a.sent,u={name:s,email:r,phone:i,uid:l},a.next=9,j("/users/".concat(l,".json"),"POST",u);case 9:200===a.sent.status&&n({type:"PROVIDE_USER",payload:u}),setTimeout(function(){t.push("/react-menu-app/dashboard/")},2e3),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(2),n({type:"IS_ERROR",payload:a.t0.message}),setTimeout(function(){n({type:"REFRESH_ERROR"})},5e3);case 18:case"end":return a.stop()}},a,null,[[2,14]])}));return function(e){return a.apply(this,arguments)}}()}},Ke=Object(o.b)(null,Ze)(function(e){var t=e.signUp,a=Object(ce.g)(),n=Object($e.a)(),r=n.register,c=n.handleSubmit,s=n.reset,l=n.errors;return i.a.createElement("div",{className:"user_forms-signup"},i.a.createElement("h2",{className:"forms_title"},"Sign Up"),i.a.createElement("form",{className:"forms_form",onSubmit:c(function(e){t(e,a),s()})},i.a.createElement("fieldset",{className:"forms_fieldset"},i.a.createElement("div",{className:"forms_field"},i.a.createElement("input",{autoComplete:"off",name:"name",placeholder:"Full Name*",className:"forms_field-input",ref:r({required:"This is required field",pattern:{value:Be.name,message:"Please, only letters, minlength 3 characters"}})}),l.name&&i.a.createElement("p",{className:"forms_field-error"},l.name.message)),i.a.createElement("div",{className:"forms_field"},i.a.createElement("input",{autoComplete:"off",name:"phone",placeholder:"Phone number*",className:"forms_field-input",ref:r({required:"This is required field",pattern:{value:Be.phone,message:"Please, only 10 numbers"}})}),l.phone&&i.a.createElement("p",{className:"forms_field-error"},l.phone.message)),i.a.createElement("div",{className:"forms_field"},i.a.createElement("input",{autoComplete:"off",name:"email",placeholder:"Email*",className:"forms_field-input",autoFocus:!0,ref:r({required:"This is required field",pattern:{value:Be.email,message:"Please, provide validate email, example: test@test.com"}})}),l.email&&i.a.createElement("p",{className:"forms_field-error"},l.email.message)),i.a.createElement("div",{className:"forms_field"},i.a.createElement("input",{type:"password",name:"password",placeholder:"Password*",className:"forms_field-input",ref:r({required:"This is required field",pattern:{value:Be.password,message:"Please, only letters or numbers, minlength 6 characters"}})}),l.password&&i.a.createElement("p",{className:"forms_field-error"},l.password.message))),i.a.createElement("div",{className:"forms_buttons"},i.a.createElement("input",{type:"submit",value:"Sign up",className:"forms_buttons-action"}))))}),Je=(a(130),Object(o.b)(function(e){var t=e.auth;return{isUserLogin:t.isUserLogin,isRecording:t.isRecording,isError:t.isError,errorMessage:t.errorMessage}},null)(function(e){var t=e.isUserLogin,a=e.isRecording,n=e.isError,r=e.errorMessage,c=Object(s.useState)(!1),l=Object(P.a)(c,2),u=l[0],o=l[1],m=n&&i.a.createElement(Ee,{message:r}),p=a&&i.a.createElement(pe,null),d=t&&i.a.createElement("p",{className:"user_success"},"Success!");return i.a.createElement("section",{className:"user"},i.a.createElement("div",{className:"user_options-container"},i.a.createElement("div",{className:"user_options-text"},i.a.createElement("div",{className:"user_options-unregistered"},p||d||i.a.createElement(i.a.Fragment,null,m||i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",{className:"user_unregistered-title"},"Don't have an account?"),i.a.createElement("p",{className:"user_unregistered-text"},"Please, click the button below and go through the short registration process.")),i.a.createElement("button",{className:"user_unregistered-signup",onClick:function(){return o(!u)}},"Sign up"))),i.a.createElement("div",{className:"user_options-registered"},p||d||i.a.createElement(i.a.Fragment,null,m||i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",{className:"user_registered-title"},"Have an account?"),i.a.createElement("p",{className:"user_registered-text"},"Please, enter your email and password.")),i.a.createElement("button",{className:"user_registered-login",onClick:function(){return o(!u)}},"Login")))),i.a.createElement("div",{className:He()("user_options-forms",{bounceLeft:u,bounceRight:!u})},u?i.a.createElement(Ke,null):i.a.createElement(Ye,null))))})),Ve=function(){return i.a.createElement(Je,null)},We=Object(o.b)(function(e){return{user:e.auth.currentUser}},null)(function(e){var t=e.user,a=t.name,n=t.phone,r=t.email;return i.a.createElement("div",{className:"item__page"},i.a.createElement("div",{className:"menu__item item__block"},i.a.createElement("h4",{className:"menu__title"},"You are welcome, ",a,"!"),i.a.createElement("h6",{className:"menu__category"},"Your user data:"),i.a.createElement("p",{className:"menu__category"},"Phone number: ",i.a.createElement("span",null,n)),i.a.createElement("p",{className:"menu__price"},"Email: ",i.a.createElement("span",null,r,"$")),i.a.createElement("div",{className:"menu__buttons"},i.a.createElement(p.b,{to:"/react-menu-app/cart/",className:"menu__btn menu__link"},"CART"),i.a.createElement(p.b,{to:"/react-menu-app/",className:"menu__btn menu__link"},"MENU"))))}),Xe=function(){return i.a.createElement(We,null)},et=a(75),tt=Object(o.b)(function(e){return{isUserLogin:e.auth.isUserLogin}},null)(function(e){var t=e.component,a=e.isUserLogin,n=Object(et.a)(e,["component","isUserLogin"]);return i.a.createElement(ce.b,Object.assign({},n,{render:function(e){return a?i.a.createElement(t,e):i.a.createElement(ce.a,{to:"/react-menu-app/authorization/"})}}))}),at=a(62),nt=a.n(at),rt=a(63),ct=a.n(rt),st=a(64),it=a.n(st),lt=(a(131),Object(o.b)(function(e){return{totalPrice:he(e),isUserLogin:e.auth.isUserLogin}},null)(function(e){var t=e.totalPrice,a=e.isUserLogin;return i.a.createElement("header",{className:"header"},a&&i.a.createElement(p.c,{to:"/react-menu-app/dashboard/",className:"header__link"},i.a.createElement("img",{className:"header__exit",title:"DASHBOARD",src:it.a,alt:"dashboard"})),i.a.createElement(p.c,{to:"/react-menu-app/",className:"header__link"},"Menu"),i.a.createElement(p.c,{to:"/react-menu-app/cart/",className:"header__link"},i.a.createElement("img",{className:"header__cart",src:nt.a,alt:"cart",title:"CART"}),"Total: ",t," $"),!a&&i.a.createElement(p.c,{to:"/react-menu-app/authorization/",className:"header__link"},"Login"),a&&i.a.createElement(p.c,{to:"/react-menu-app/authorization/",className:"header__link"},i.a.createElement("img",{className:"header__exit",onClick:function(){$.auth().signOut()},title:"EXIT",src:ct.a,alt:"exit"})))})),ut=(a(132),function(){return i.a.createElement("footer",{className:"footer"},i.a.createElement("p",null,"This is footer \xa92020. GitHub Mikhail-88"))}),ot=a(65),mt=a.n(ot);function pt(){var e=Object(re.a)(["\n    background: url(",") center center/cover no-repeat;\n"]);return pt=function(){return e},e}var dt=se.a.div(pt(),mt.a),Et={checkUserIsLogin:function(){return function(){var e=Object(O.a)(N.a.mark(function e(t){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"REGISTRATION"}),$.auth().onAuthStateChanged(function(e){e?B(e.uid).then(function(e){t({type:"PROVIDE_USER",payload:e})}).catch(function(e){t({type:"IS_ERROR",payload:e.message})}):t({type:"USER_LOGOUT"})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}},ft=Object(o.b)(null,Et)(function(e){var t=e.checkUserIsLogin;return Object(s.useEffect)(function(){t()},[]),i.a.createElement(dt,null,i.a.createElement(lt,null),i.a.createElement(ce.d,null,i.a.createElement(ce.b,{path:"/react-menu-app/",exact:!0,component:Le}),i.a.createElement(ce.b,{path:"/react-menu-app/cart/",exact:!0,component:xe}),i.a.createElement(ce.b,{path:"/react-menu-app/menu/:id",component:ze}),i.a.createElement(ce.b,{path:"/react-menu-app/authorization/",exact:!0,component:Ve}),i.a.createElement(tt,{path:"/react-menu-app/dashboard/",exact:!0,component:Xe})),i.a.createElement(ut,null))}),_t=a(70),gt=a(71),bt=a(73),ht=a(72),vt=a(74),Nt=function(e){function t(){var e,a;Object(_t.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(bt.a)(this,(e=Object(ht.a)(t)).call.apply(e,[this].concat(r)))).state={error:!1},a}return Object(vt.a)(t,e),Object(gt.a)(t,[{key:"componentDidCatch",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?i.a.createElement("div",{className:"item__page"},i.a.createElement(Ee,null)):this.props.children}}]),t}(s.Component);a(133);u.a.render(i.a.createElement(o.a,{store:ae},i.a.createElement(Nt,null,i.a.createElement(p.a,null,i.a.createElement(m.a,{persistor:ne},i.a.createElement(ft,null))))),document.getElementById("root"))},58:function(e,t,a){e.exports=a.p+"static/media/empty_plate.249f4a2f.jpg"},62:function(e,t,a){e.exports=a.p+"static/media/shopping-cart-solid.701d6d1d.svg"},63:function(e,t,a){e.exports=a.p+"static/media/exit.77c311f2.png"},64:function(e,t,a){e.exports=a.p+"static/media/user.fff3d037.png"},65:function(e,t,a){e.exports=a.p+"static/media/food-bg.698e5e80.jpg"},78:function(e,t,a){e.exports=a(134)}},[[78,1,2]]]);
//# sourceMappingURL=main.f7a48cbc.chunk.js.map